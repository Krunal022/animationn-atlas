<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path Animation</title>
    <style>
        img {
            rotate: 260deg;
            position: absolute;
            /* z-index: 999; */
        }

        .box {
            justify-content: center;
            align-items: center;
            display: flex;
            height: 100%;
            width: 100%;
            background-color: skyblue;
            overflow: hidden;
        }

        .vertical-dashed-line path {
            stroke-dasharray: 10 8;
            animation: dashmove 3s linear infinite;
        }

        @keyframes dashmove {
            to {
                stroke-dashoffset: -18;
            }
        }
    </style>
</head>

<body>
    <!-- HTML -->
    <div class="box">
        <!-- HTML -->
        <svg class="vertical-dashed-line" width="1200" height="2400" viewBox="0 0 200 600" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path id="path" d="M100 6
                        C10 100, 50 150, 100 200
                        C150 250, 50 300, 100 350
                        C150 400, 50 450, 100 500
                        C150 550, 100 600, 100 600" stroke="black" stroke-width="3" stroke-dasharray="10 8"
                fill="transparent" />
        </svg>
        <img id="div" src="download.png" alt="">

    </div>

    <script src="https://unpkg.com/lenis@1.3.14/dist/lenis.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/MotionPathPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", (event) => {
            gsap.registerPlugin(MotionPathPlugin, ScrollTrigger)
            // Initialize Lenis
            const lenis = new Lenis({
                autoRaf: true,
            });

            // Listen for the scroll event and log the event data
            lenis.on('scroll', (e) => {
                console.log(e);
            });

            // gsap code here!
            let tl = gsap.timeline({
                scrollTrigger: ({
                    trigger: "box",
                    start: "-2% 0%",
                    end: "100% 100%",
                    // markers: true,
                    scrub: 3
                })
            })

            tl.to("#div", {
                motionPath: {
                    path: "#path",
                    align: "#path",
                    alignOrigin: [0.5, 0.5],
                    // autoRotate: true,    
                },
                transformOrigin: "50% 50%",
                duration: 5,
                ease: "linear",
            });
        });
    </script>
</body>

</html>